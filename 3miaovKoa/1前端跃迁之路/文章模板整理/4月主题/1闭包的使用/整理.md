### 掌握不牢的知识点：
- 执行上下文和执行上下文栈

### 涉及到的知识点
- 作用域
- 作用域链
- 全局作用域和局部作用域
- 变量的生命周期
- 函数声明和变量提升
- 执行上下文和执行上下文栈（执行过程）
- 闭包的创建过程



### https://juejin.im/post/5afb0ae56fb9a07aa2138425（学习闭包的前置知识）
- 1、理解作用域是什么？ 作用域就是变量可使用的管理范围。
- 2、词法作用域（静态作用域）和动态作用域。
    - 词法作用域：即变量或函数在定义的时候就确定了其管理范围。
- 3、全局作用域，局部作用域，作用域链，
- 3、作用域中变量的查找规则
    - 输出变量的查找类型是RHS，赋值的查找类型是LHS。L或者R的区别是变量在赋值操作左边则为LHS查询，在右侧则为RHS查询。说白了查询值是RHS，赋值是LHS。


### https://juejin.im/post/5b081f8d6fb9a07a9b3664b6（闭包1）
- 1、返回函数的引用是什么，为什么常规的闭包表示方式能通过函数引用的方式让词法作用域外面的函数访问函数内部的作用域
- 2、为什么通过回调函数的方式，fn2能够访问到fn1函数的变量（知识点：词法作用域在什么时候确定）
- 3、闭包的作用是什么？

### https://juejin.im/post/5b167b476fb9a01e5b10f19b（闭包2）
- 1、什么是抽象？ 抽象就是隐藏更具体的实现细节，从更高的层次看待我们要解决的问题。
- 2、封装一个遍历方法，将for循环的过程隐藏起来，使用遍历方法达到效果
- 3、什么是高阶函数？
    - 就是一个函数可以操作其他函数（实现方式：将其他函数作为参数或将函数作为返回值）

- 4、事件绑定this的指向问题。


### https://segmentfault.com/a/1190000006875662
- 1、变量的生命周期
- 2、闭包在模块化中的一些使用（使用闭包模块，减少全局变量的污染）
- 3、闭包的缺陷（会增加对内存的使用量，影响性能；并且不正确的使用闭包会造成内存泄漏）
- 4、最后一个练习
```
function fun(n,o){
  console.log(o);
  return {
    fun: function(m){
      return fun(m,n);
    }
  };
}

var a = fun(0);  // ?
a.fun(1);        // ?        
a.fun(2);        // ?
a.fun(3);        // ?

var b = fun(0).fun(1).fun(2).fun(3);  // ?

var c = fun(0).fun(1);  // ?
c.fun(2);        // ?
c.fun(3);        // ?
```

### http://hpoenixf.com/%E4%B8%80%E6%AC%A1%E6%90%9E%E5%AE%9A%E9%97%AD%E5%8C%85%E5%92%8Cthis.html
- 执行上下文栈如何产生及内容（信息量有点大，需要逐步去消化）
    - 5个关键点
        - 单线程
        - 同步执行
        - 一个全局上下文
        - 无限制函数上下文
        - 每次函数调用创建新的上下文，包括调用自己
- 箭头函数自身不存在上下文环境，this指向定义箭头函数环境中this指向的那个对象，即上层作用域中this指向的对象。
- 为什么进行事件监听的时候this指向当前的DOM（未解决）

- 执行上下文建立的步骤（./执行上下文/1步骤.html）



        
- 执行上下文概念需要做更多的理解（函数执行时）
    - 全局执行上下文
    - 函数执行上下文
        - 变量对象VO：存储了上下文中定义的变量和函数声明。与执行上下文相关的数据作用域
        - 活动对象AO：当函数被调用后，活动对象AO就被创建了，它包含普通参数与特殊参数对象（具有索引属性的参数映射表）。函数上下文中，变量对象VO就是活动对象AO。

- 作用域链：函数在定义的时候会把父级的变量对象AO/VO的集合保存在内部属性[[scope]]中，该集合称为作用域链。
    - 自由变量指的是不在函数内部声明的变量。（如父级作用域中的变量就是当前函数的自由变量）
    - 当函数需要访问自由变量时，会顺着作用域链来查找数据。子对象会一级一级的向上查找父对象的变量，父对象的变量对子对象是可见的，反之不成立。

    - 【注意】一般在问打印什么值的时候，看题目是要考作用域还是考this。如果考作用域是在函数定义的时候确定，考this时是函数再执行时确定


- 闭包的解析：
    - 闭包的创建过程（一遍一遍的去重复和理解这个问题）
        - 具体的分析和例子放在('./闭包的过程/demo1.html')
    - 闭包两次创建的原型链上的内部变量不是同一个变量，而是相互独立的。
        - 具体的分析和例子放在('./闭包的过程/demo2.html')





### https://www.jianshu.com/p/6c6a7403f8fb
- 关于变量和函数声明提升的问题
    - https://www.jianshu.com/p/44a3c76023f5  结论是函数提升 > 变量提升（对的）
        - 具体的分析和例子放在('./变量提升/变量提升demo.html')
        - 箭头函数的this指向是上级作用域中this指向的对象还是执行上下文(函数或是global)的this值。这两个是同一个东西吗
