# 设计数据库结构

### sequelize库
需要安装下面两个模块

- sequelize: 供程序使用
- sequelize-cli: 供命令使用

##### 初始化
输入如下命令：`.\node_modules\.bin\sequelize init`

初始化之后会生成：
- config: 配置目录
- migrations: 迁移文件（数据库表结构）
- seeders: 种子文件（生成测试数据）

- models: 模型文件（sequelize命令工具使用不多，主要是给程序使用的）

生成好sequelize结构后，然后在config.json文件下配置开发环境的时区`"timezone": "+08:00"`，并且移除掉字段`"operatorsAliases": false`

##### 安装数据库
安装mysql2: `cnpm i mysql2 -S`
创建数据库: `.\node_modules\.bin\sequelize db:create`，则创建了`meishi_development`


##### 构建数据迁移文件
创建了一个名为user的迁移文件
`.\node_modules\.bin\sequelize model:create --name Users --attributes username:STRING`


##### 数据库结构
- user  用户表
用来存放用户基本信（用户名、密码等）

- user-profile: 用户扩展信息
用来存放用户扩展信息（生日、昵称、真实姓名等）

- login-log: 用户登录日志
用来存放用户登录日志，用户每次登录时间和登录IP等信息可以存放在这里

- category: 美食分类
用来存放没事相关的分类信息

- cookbook：美食信息
用来存放具体的美食信息(标题、图片等)

- step： 没事烹饪步骤信息
用来存放美食的具体步骤，在每一个具体的步骤中有一个字段与cookbook表的id进行关联

- comment： 评论
用来存放用户对某个具体的cookbook的评论

- favorite：收藏
存放用户收藏的美食


